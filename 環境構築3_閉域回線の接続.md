## ExpressRoute (ExpressRoute Circuit) 回線の作成
<details><summary>詳細を見る</summary><div>
Azure Portal で ExpressRoute で検索して、ExpressRoute circuitsを押下<br>

![alt text](/img/image-16.png)<br><br>


作成を押下<br>
![alt text](/img/image-17.png)<br>
<br>

基本タブにて、次のように入力する<br>

| 項目 | 入力方法 |
|:---------|:---------|
| サブスクリプション |作成したリソースグループが存在するサブスクリプション |
| リソース グループ | 作成したネットワークが存在するリソースグループ |
| 回復性 | 標準の回復性 |
| リージョン | 仮想ネットワークと同じリージョン |
| 回線名 | ExpressRoute回線の名前 |
| ポートの種類 | プロバイダー |
| ピアリングの場所 | Tokyo |
| プロバイダー | Oracle Cloud FastConnect |
| 帯域幅 | 50Mbps |
<br>

![alt text](/img/image-15.png)<br><br>

監視タブにて、推奨されるアラートを有効化する

![alt text](<スクリーンショット 2026-02-14 063558.png>)<br>

<br>

確認および作成で作成する。<br>
この時、回線のサービスキーを控えておく<br>

</div></details>

## Fast Connectの作成
ポータルの左ペインより、「ネットワーキング」→「Fast Connect」を押下する<br>
![alt text](</img/スクリーンショット 2026-02-14 065347.png>)<br>
<br>
作成画面にて、接続タイプを以下の通り入力する

| 項目 | 入力方法 |
|:---------|:---------|
| 接続タイプ |FastConnectパートナ |
| 冗長性レベル| 単一の仮想回線 |

![alt text](</img/スクリーンショット 2026-02-14 065652.png>)<br>
<br>
構成について以下の通り入力
| 項目 | 入力方法 |
|:---------|:---------|
| 仮想回線タイプ |プライベート仮想回線 |
| 動的ルーティング・ゲートウェイ| 作成したDRG |
| プロビジョニングされた帯域幅| 1Gbps |
| パートナー・サービスキー| 作成したER回線のサービスキー |
| 顧客プライマリBGPIPアドレス| 任意のIPアドレス範囲 |
| OracleBGPIPアドレス| 任意のIPアドレス範囲 |
| 顧客セカンダリBGPIPアドレス| 任意のIPアドレス範囲 |
| OracleプライマリBGPIPアドレス| 任意のIPアドレス範囲 |

![alt text](</img/スクリーンショット 2026-02-14 071233.png>)<br><br>

作製したら、ExpressRoute回線側のプロバイダの状態が「プロビジョニング済み」となる<br>
![alt text](</img/スクリーンショット 2026-02-14 072221.png>)<br><br>

## ExpressRoute回線と、ゲートウェイの接続
ERGatewayの画面で、左ペイン「設定」→「接続」を押下し、追加を選択<br>
![alt text](</img/スクリーンショット 2026-02-14 080339.png>)<br><br>

基本タブにて以下の通り入力
| 項目 | 入力方法 |
|:---------|:---------|
| サブスクリプション |作成したリソースグループが存在するサブスクリプション |
| リソース グループ | 作成したネットワークが存在するリソースグループ |
| 接続の種類 | ExpressRoute |

![alt text](</img/スクリーンショット 2026-02-14 080442.png>)<br><br>

設定タブにて、以下の通り入力して作成する
| 項目 | 入力方法 |
|:---------|:---------|
| 回復性 | 標準の回復性 |
| 仮想ネットワークゲートウェイ | 作製したERGateway |
| ExpressRoute回線 | 作製したExpressRoute回線の名前 |

![alt text](</img/スクリーンショット 2026-02-14 080651.png>)

## 疎通確認
Azure側のVM一つ目からRDP接続する<br>
今回はBastionで接続します<br>
![alt text](</img/スクリーンショット 2026-02-14 082107.png>)<br><br>

OCI側のインスタンスにpingで疎通確認ができることを確認する<br>
![alt text](</img/スクリーンショット 2026-02-14 082439.png>)<br><br>

ExpressRoute回線の「設定」→「構成」よりリモート仮想ネットワークからのトラフィックを許可します。をチェックする。<br>
![alt text](</img/スクリーンショット 2026-02-14 083109.png>)<br><br>

OCI側からも疎通ができることを確認する<br>